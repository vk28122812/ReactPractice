{"ast":null,"code":"import { uiActions } from \"./ui\";\nimport { cartActions } from \"./cart\";\nexport const sendCartData = cart => {\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: \"pending\",\n      title: \"sending\",\n      message: \"sending cart data\"\n    }));\n    const sendRequest = async () => {\n      const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\", {\n        method: \"PUT\",\n        body: JSON.stringify(cartData)\n      });\n      if (!response.ok) {\n        throw new Error(\"Sending Cart Data failed\");\n      }\n      //   const responseData = await response.json();\n      //   console.log(responseData);\n    };\n    try {\n      sendRequest();\n      dispatch(uiActions.showNotification({\n        status: \"success\",\n        title: \"Success!\",\n        message: \"sent cart data successfully\"\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"sending cart data failed\"\n      }));\n    }\n  };\n};\nexport const fetchCartData = () => {\n  return async dispatch => {\n    const fetchData = async () => {\n      const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\");\n      if (!response.ok) {\n        throw new Error(\"couldn't fetch data\");\n      }\n      const resData = await response.json();\n      return resData;\n    };\n    try {\n      const cartData = await fetchData();\n      dispatch(cartActions.replaceCart(cartData));\n    } catch (error) {\n      uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"Fetching cart data failed\"\n      });\n    }\n  };\n};","map":{"version":3,"names":["uiActions","cartActions","sendCartData","cart","dispatch","showNotification","status","title","message","sendRequest","response","fetch","method","body","JSON","stringify","cartData","ok","Error","error","fetchCartData","fetchData","resData","json","replaceCart"],"sources":["/home/vishal/Desktop/AdvancedRedux/src/store/cartActions.js"],"sourcesContent":["import { uiActions } from \"./ui\"\nimport { cartActions } from \"./cart\"\nexport  const sendCartData = (cart) => {\n    return async (dispatch) => {\n        dispatch(uiActions.showNotification({\n            status: \"pending\",\n            title: \"sending\",\n            message: \"sending cart data\",\n        }))\n\n        const sendRequest = async() => {\n            const response = await fetch(\n                \"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\",\n                {\n                  method: \"PUT\",\n                  body: JSON.stringify(cartData),\n                }\n              );\n              if (!response.ok) {\n                throw new Error(\"Sending Cart Data failed\");\n              }\n            //   const responseData = await response.json();\n            //   console.log(responseData);\n        }\n\n        try{\n            sendRequest();\n            dispatch(uiActions.showNotification({\n                status: \"success\",\n                title: \"Success!\",\n                message: \"sent cart data successfully\",\n            }))\n        }catch(error){\n            dispatch(\n                uiActions.showNotification({\n                  status: \"error\",\n                  title: \"Error!\",\n                  message: \"sending cart data failed\",\n                })\n              );\n        }\n    }  \n}\n\nexport const fetchCartData = () => {\n    return async(dispatch) => {\n        const fetchData = async() => {\n            const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\");\n            if(!response.ok){\n                throw new Error(\"couldn't fetch data\");\n            }\n            const resData = await response.json();\n            return resData;\n        } \n        try{\n            const cartData = await fetchData();\n            dispatch(cartActions.replaceCart(cartData))\n        }catch(error){\n            uiActions.showNotification({\n                status: \"error\",\n                title: \"Error!\",\n                message: \"Fetching cart data failed\",\n              })\n        }\n    }\n}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,MAAM;AAChC,SAASC,WAAW,QAAQ,QAAQ;AACpC,OAAQ,MAAMC,YAAY,GAAIC,IAAI,IAAK;EACnC,OAAO,MAAOC,QAAQ,IAAK;IACvBA,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;MAChCC,MAAM,EAAE,SAAS;MACjBC,KAAK,EAAE,SAAS;MAChBC,OAAO,EAAE;IACb,CAAC,CAAC,CAAC;IAEH,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAW;MAC3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACxB,mEAAmE,EACnE;QACEC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACC,QAAQ;MAC/B,CACF,CAAC;MACD,IAAI,CAACN,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;MACF;MACA;IACJ,CAAC;IAED,IAAG;MACCT,WAAW,CAAC,CAAC;MACbL,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;QAChCC,MAAM,EAAE,SAAS;QACjBC,KAAK,EAAE,UAAU;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC,CAAC;IACP,CAAC,QAAMW,KAAK,EAAC;MACTf,QAAQ,CACJJ,SAAS,CAACK,gBAAgB,CAAC;QACzBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACX,CAAC,CACH,CAAC;IACP;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMY,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAO,MAAMhB,QAAQ,IAAK;IACtB,MAAMiB,SAAS,GAAG,MAAAA,CAAA,KAAW;MACzB,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,mEAAmE,CAAC;MACjG,IAAG,CAACD,QAAQ,CAACO,EAAE,EAAC;QACZ,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MAC1C;MACA,MAAMI,OAAO,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;MACrC,OAAOD,OAAO;IAClB,CAAC;IACD,IAAG;MACC,MAAMN,QAAQ,GAAG,MAAMK,SAAS,CAAC,CAAC;MAClCjB,QAAQ,CAACH,WAAW,CAACuB,WAAW,CAACR,QAAQ,CAAC,CAAC;IAC/C,CAAC,QAAMG,KAAK,EAAC;MACTnB,SAAS,CAACK,gBAAgB,CAAC;QACvBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACX,CAAC,CAAC;IACR;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}