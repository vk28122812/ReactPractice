{"ast":null,"code":"import { uiActions } from \"./ui\";\nimport { cartActions } from \"./cart\";\nexport const sendCartData = cart => {\n  console.log(cart);\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: \"pending\",\n      title: \"sending\",\n      message: \"sending cart data\"\n    }));\n    const sendRequest = async () => {\n      const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\", {\n        method: \"PUT\",\n        body: JSON.stringify({\n          items: cart.items,\n          totalQuantity: cart.totalQuantity\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Sending Cart Data failed\");\n      }\n      //   const responseData = await response.json();\n      //   console.log(responseData);\n    };\n    try {\n      sendRequest();\n      dispatch(uiActions.showNotification({\n        status: \"success\",\n        title: \"Success!\",\n        message: \"sent cart data successfully\"\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"sending cart data failed\"\n      }));\n    }\n  };\n};\nexport const fetchCartData = () => {\n  return async dispatch => {\n    const fetchData = async () => {\n      const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\");\n      if (!response.ok) {\n        throw new Error(\"couldn't fetch data\");\n      }\n      const resData = await response.json();\n      return resData;\n    };\n    try {\n      const cartData = await fetchData();\n      log;\n      dispatch(cartActions.replaceCart({\n        items: cartData.items || [],\n        totalQuantity: cartData.totalQuantity || 0\n      }));\n    } catch (error) {\n      uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"Fetching cart data failed\"\n      });\n    }\n  };\n};","map":{"version":3,"names":["uiActions","cartActions","sendCartData","cart","console","log","dispatch","showNotification","status","title","message","sendRequest","response","fetch","method","body","JSON","stringify","items","totalQuantity","ok","Error","error","fetchCartData","fetchData","resData","json","cartData","replaceCart"],"sources":["/home/vishal/Desktop/AdvancedRedux/src/store/cartActions.js"],"sourcesContent":["import { uiActions } from \"./ui\";\nimport { cartActions } from \"./cart\";\nexport const sendCartData = (cart) => {\n  console.log(cart);\n\n  return async (dispatch) => {\n    dispatch(\n      uiActions.showNotification({\n        status: \"pending\",\n        title: \"sending\",\n        message: \"sending cart data\",\n      })\n    );\n    const sendRequest = async () => {\n      const response = await fetch(\n        \"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\",\n        {\n          method: \"PUT\",\n          body: JSON.stringify({\n            items: cart.items,\n            totalQuantity: cart.totalQuantity,\n          }),\n        }\n      );\n      if (!response.ok) {\n        throw new Error(\"Sending Cart Data failed\");\n      }\n      //   const responseData = await response.json();\n      //   console.log(responseData);\n    };\n\n    try {\n      sendRequest();\n      dispatch(\n        uiActions.showNotification({\n          status: \"success\",\n          title: \"Success!\",\n          message: \"sent cart data successfully\",\n        })\n      );\n    } catch (error) {\n      dispatch(\n        uiActions.showNotification({\n          status: \"error\",\n          title: \"Error!\",\n          message: \"sending cart data failed\",\n        })\n      );\n    }\n  };\n};\n\nexport const fetchCartData = () => {\n  return async (dispatch) => {\n    const fetchData = async () => {\n      const response = await fetch(\n        \"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"couldn't fetch data\");\n      }\n      const resData = await response.json();\n      return resData;\n    };\n    try {\n      const cartData = await fetchData();\n      log\n      dispatch(\n        cartActions.replaceCart({\n          items: cartData.items || [],\n          totalQuantity: cartData.totalQuantity || 0,\n        })\n      );\n    } catch (error) {\n      uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"Fetching cart data failed\",\n      });\n    }\n  };\n};\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,MAAM;AAChC,SAASC,WAAW,QAAQ,QAAQ;AACpC,OAAO,MAAMC,YAAY,GAAIC,IAAI,IAAK;EACpCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EAEjB,OAAO,MAAOG,QAAQ,IAAK;IACzBA,QAAQ,CACNN,SAAS,CAACO,gBAAgB,CAAC;MACzBC,MAAM,EAAE,SAAS;MACjBC,KAAK,EAAE,SAAS;MAChBC,OAAO,EAAE;IACX,CAAC,CACH,CAAC;IACD,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,mEAAmE,EACnE;QACEC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,KAAK,EAAEf,IAAI,CAACe,KAAK;UACjBC,aAAa,EAAEhB,IAAI,CAACgB;QACtB,CAAC;MACH,CACF,CAAC;MACD,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;MACA;MACA;IACF,CAAC;IAED,IAAI;MACFV,WAAW,CAAC,CAAC;MACbL,QAAQ,CACNN,SAAS,CAACO,gBAAgB,CAAC;QACzBC,MAAM,EAAE,SAAS;QACjBC,KAAK,EAAE,UAAU;QACjBC,OAAO,EAAE;MACX,CAAC,CACH,CAAC;IACH,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdhB,QAAQ,CACNN,SAAS,CAACO,gBAAgB,CAAC;QACzBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACX,CAAC,CACH,CAAC;IACH;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMa,aAAa,GAAGA,CAAA,KAAM;EACjC,OAAO,MAAOjB,QAAQ,IAAK;IACzB,MAAMkB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAC1B,mEACF,CAAC;MACD,IAAI,CAACD,QAAQ,CAACQ,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACxC;MACA,MAAMI,OAAO,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MACrC,OAAOD,OAAO;IAChB,CAAC;IACD,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMH,SAAS,CAAC,CAAC;MAClCnB,GAAG;MACHC,QAAQ,CACNL,WAAW,CAAC2B,WAAW,CAAC;QACtBV,KAAK,EAAES,QAAQ,CAACT,KAAK,IAAI,EAAE;QAC3BC,aAAa,EAAEQ,QAAQ,CAACR,aAAa,IAAI;MAC3C,CAAC,CACH,CAAC;IACH,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdtB,SAAS,CAACO,gBAAgB,CAAC;QACzBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}