{"ast":null,"code":"import { uiActions } from \"./ui\";\nimport { cartActions } from \"./cart\";\nexport const sendCartData = cart => {\n  console.log();\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: \"pending\",\n      title: \"sending\",\n      message: \"sending cart data\"\n    }));\n    const sendRequest = async () => {\n      const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\", {\n        method: \"PUT\",\n        body: JSON.stringify({\n          items: cart.items,\n          totalQuantity: cart.totalQuantity\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Sending Cart Data failed\");\n      }\n      //   const responseData = await response.json();\n      //   console.log(responseData);\n    };\n    try {\n      sendRequest();\n      dispatch(uiActions.showNotification({\n        status: \"success\",\n        title: \"Success!\",\n        message: \"sent cart data successfully\"\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"sending cart data failed\"\n      }));\n    }\n  };\n};\nexport const fetchCartData = () => {\n  return async dispatch => {\n    const fetchData = async () => {\n      const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\");\n      if (!response.ok) {\n        throw new Error(\"couldn't fetch data\");\n      }\n      const resData = await response.json();\n      return resData;\n    };\n    try {\n      const cartData = await fetchData();\n      dispatch(cartActions.replaceCart(cartData));\n    } catch (error) {\n      uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"Fetching cart data failed\"\n      });\n    }\n  };\n};","map":{"version":3,"names":["uiActions","cartActions","sendCartData","cart","console","log","dispatch","showNotification","status","title","message","sendRequest","response","fetch","method","body","JSON","stringify","items","totalQuantity","ok","Error","error","fetchCartData","fetchData","resData","json","cartData","replaceCart"],"sources":["/home/vishal/Desktop/AdvancedRedux/src/store/cartActions.js"],"sourcesContent":["import { uiActions } from \"./ui\"\nimport { cartActions } from \"./cart\"\nexport  const sendCartData = (cart) => {\n    console.log();\n    \n    return async (dispatch) => {\n        dispatch(uiActions.showNotification({\n            status: \"pending\",\n            title: \"sending\",\n            message: \"sending cart data\",\n        }))\n\n        const sendRequest = async() => {\n            const response = await fetch(\n                \"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\",\n                {\n                  method: \"PUT\",\n                  body: JSON.stringify({items:cart.items,totalQuantity:cart.totalQuantity}),\n                }\n              );\n              if (!response.ok) {\n                throw new Error(\"Sending Cart Data failed\");\n              }\n            //   const responseData = await response.json();\n            //   console.log(responseData);\n        }\n\n        try{\n            sendRequest();\n            dispatch(uiActions.showNotification({\n                status: \"success\",\n                title: \"Success!\",\n                message: \"sent cart data successfully\",\n            }))\n        }catch(error){\n            dispatch(\n                uiActions.showNotification({\n                  status: \"error\",\n                  title: \"Error!\",\n                  message: \"sending cart data failed\",\n                })\n              );\n        }\n    }  \n}\n\nexport const fetchCartData = () => {\n    return async(dispatch) => {\n        const fetchData = async() => {\n            const response = await fetch(\"https://advancedredux-dc3c7-default-rtdb.firebaseio.com/cart.json\");\n            if(!response.ok){\n                throw new Error(\"couldn't fetch data\");\n            }\n            const resData = await response.json();\n            return resData;\n        } \n        try{\n            const cartData = await fetchData();\n            dispatch(cartActions.replaceCart(cartData))\n        }catch(error){\n            uiActions.showNotification({\n                status: \"error\",\n                title: \"Error!\",\n                message: \"Fetching cart data failed\",\n              })\n        }\n    }\n}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,MAAM;AAChC,SAASC,WAAW,QAAQ,QAAQ;AACpC,OAAQ,MAAMC,YAAY,GAAIC,IAAI,IAAK;EACnCC,OAAO,CAACC,GAAG,CAAC,CAAC;EAEb,OAAO,MAAOC,QAAQ,IAAK;IACvBA,QAAQ,CAACN,SAAS,CAACO,gBAAgB,CAAC;MAChCC,MAAM,EAAE,SAAS;MACjBC,KAAK,EAAE,SAAS;MAChBC,OAAO,EAAE;IACb,CAAC,CAAC,CAAC;IAEH,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAW;MAC3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACxB,mEAAmE,EACnE;QACEC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAACC,KAAK,EAACf,IAAI,CAACe,KAAK;UAACC,aAAa,EAAChB,IAAI,CAACgB;QAAa,CAAC;MAC1E,CACF,CAAC;MACD,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;MACF;MACA;IACJ,CAAC;IAED,IAAG;MACCV,WAAW,CAAC,CAAC;MACbL,QAAQ,CAACN,SAAS,CAACO,gBAAgB,CAAC;QAChCC,MAAM,EAAE,SAAS;QACjBC,KAAK,EAAE,UAAU;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC,CAAC;IACP,CAAC,QAAMY,KAAK,EAAC;MACThB,QAAQ,CACJN,SAAS,CAACO,gBAAgB,CAAC;QACzBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACX,CAAC,CACH,CAAC;IACP;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMa,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAO,MAAMjB,QAAQ,IAAK;IACtB,MAAMkB,SAAS,GAAG,MAAAA,CAAA,KAAW;MACzB,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,mEAAmE,CAAC;MACjG,IAAG,CAACD,QAAQ,CAACQ,EAAE,EAAC;QACZ,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MAC1C;MACA,MAAMI,OAAO,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MACrC,OAAOD,OAAO;IAClB,CAAC;IACD,IAAG;MACC,MAAME,QAAQ,GAAG,MAAMH,SAAS,CAAC,CAAC;MAClClB,QAAQ,CAACL,WAAW,CAAC2B,WAAW,CAACD,QAAQ,CAAC,CAAC;IAC/C,CAAC,QAAML,KAAK,EAAC;MACTtB,SAAS,CAACO,gBAAgB,CAAC;QACvBC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACX,CAAC,CAAC;IACR;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}